# 交易策略库

本目录包含系统使用的各种交易策略配置。

## 📚 可用策略

### 1. [保守型策略 v1.0](./conservative-strategy-v1.md) 
**状态**: 已备份（过于保守）

- **特点**: 极度注重风险控制，资本保护优先
- **入场条件**: ≥3个时间框架共振，潜在利润≥3-5%
- **适用场景**: 市场极度不确定时，资金安全要求极高
- **优点**: 极低亏损风险
- **缺点**: 可能错过很多机会（连续20周期空仓）

### 2. [平衡型策略 v2.0](./balanced-strategy-v2.md) ⭐ 当前使用
**状态**: 当前使用

- **特点**: 风险收益平衡，积极寻找机会
- **入场条件**: ≥2个时间框架共振，潜在利润≥2-3%
- **适用场景**: 正常市场环境，有明确趋势或机会时
- **优点**: 平衡风险和收益，不会错过太多机会
- **缺点**: 相比v1风险略有提高（但仍在可控范围）

## 📊 策略对比

| 维度 | v1 保守策略 | v2 平衡策略 |
|------|------------|------------|
| 风险等级 | 极低 | 低-中 |
| 预期收益 | 低 | 中 |
| 交易频率 | 极低（可能长期空仓） | 适中 |
| 时间框架要求 | ≥3个 | ≥2个 |
| 利润目标 | 3-5% | 2-3% |
| 杠杆使用 | 严格限制 | 灵活运用 |
| 适合行情 | 震荡/不确定 | 趋势/正常 |

## 🔄 策略切换指南

### 何时使用保守策略（v1）

- ⚠️ 市场极度不确定或剧烈波动
- ⚠️ 账户出现明显回撤（≥10%）
- ⚠️ 连续多笔交易亏损
- ⚠️ 市场处于无序状态
- ⚠️ 重大事件前（如FOMC、CPI数据发布）

### 何时使用平衡策略（v2）

- ✅ 市场相对稳定或有明确趋势
- ✅ 账户处于健康状态
- ✅ 需要提高资金利用率
- ✅ 长期空仓（如连续>10个周期未交易）
- ✅ 正常交易环境

## 🔧 如何切换策略

### 方法 1: 手动替换提示词

1. 打开目标策略文档（如 `conservative-strategy-v1.md`）
2. 复制完整的提示词内容
3. 打开 `/mnt/code/open-nof1.ai/src/agents/tradingAgent.ts`
4. 替换 `instructions` 字段内容
5. 重启系统：`npm run trading:restart`

### 方法 2: 使用 Git 版本控制

```bash
# 查看当前策略
git log --oneline src/agents/tradingAgent.ts

# 切换到特定版本
git checkout <commit-hash> src/agents/tradingAgent.ts

# 重启系统
npm run trading:restart
```

## 📈 策略性能监控

建议监控以下指标来评估策略效果：

### 关键指标

1. **交易频率**
   - v1 保守: 1-3笔/周
   - v2 平衡: 3-10笔/周

2. **胜率**
   - 目标: ≥50%
   - 优秀: ≥60%

3. **盈亏比**
   - 目标: ≥1.5:1
   - 优秀: ≥2:1

4. **最大回撤**
   - 警戒: 10%
   - 限制: 15%
   - 强制平仓: 20%

5. **夏普比率**
   - 目标: ≥1.0
   - 优秀: ≥1.5

6. **空仓时长**
   - v1: 可接受长期空仓
   - v2: 不应连续超过10个周期（100分钟）

### 警告信号

如果出现以下情况，考虑切换策略或暂停交易：

- ❌ 连续5笔交易亏损
- ❌ 单日回撤超过5%
- ❌ 胜率低于40%
- ❌ 盈亏比低于1:1
- ❌ 最大回撤接近15%

## 📝 策略开发建议

### 创建新策略

1. 复制现有策略文档作为模板
2. 修改关键参数（时间框架、利润目标、止损止盈等）
3. 详细记录修改原因和预期效果
4. 在测试网络充分测试
5. 在小资金量下实盘验证
6. 根据表现调整参数

### 策略文档格式

每个策略文档应包含：

- 策略概述和目标
- 核心理念和交易哲学
- 具体的入场/出场规则
- 风险管理规则
- 适用场景
- 优缺点分析
- 与其他策略的对比
- 完整的提示词内容

## 📚 学习资源

### 推荐阅读

1. 《海龟交易法则》- 关于趋势跟踪和风险管理
2. 《量化交易》- 系统化交易方法
3. 《金融怪杰》- 成功交易者的访谈
4. 《期货市场技术分析》- 技术分析基础

### 相关文档

- [环境变量配置说明](../ENV_CONFIG.md)
- [系统使用说明](../使用说明.md)
- [风险管理文档](../RISK_MANAGEMENT.md)（待创建）

## 🔍 版本历史

| 版本 | 日期 | 说明 | 状态 |
|------|------|------|------|
| v1.0 | 2025-10-26 | 保守型策略 - 极度风控 | 已备份 |
| v2.0 | 2025-10-26 | 平衡型策略 - 放宽条件 | ⭐ 当前使用 |

## ⚠️ 重要提醒

1. **没有完美的策略**：所有策略都有优缺点，关键是根据市场环境选择合适的策略

2. **持续监控**：定期检查策略表现，及时调整

3. **风险控制优先**：无论使用哪种策略，风险控制始终是第一位的

4. **记录和复盘**：详细记录每笔交易和策略切换的原因，定期复盘总结

5. **测试优先**：新策略必须先在测试网络充分测试

---

**更新日期**: 2025-10-26
**维护者**: AI Trading System


